(function($){"use strict";var _applyErrorStyle=function($elem,conf){$elem.addClass(conf.errorElementClass).removeClass("valid").parent().addClass("has-error").removeClass("has-success"),""!==conf.borderColorOnError&&$elem.css("border-color",conf.borderColorOnError)},_removeErrorStyle=function($elem,conf){$elem.each(function(){_setInlineErrorMessage($(this),"",conf),$(this).removeClass("valid").removeClass(conf.errorElementClass).css("border-color","").parent().removeClass("has-error").removeClass("has-success").find("."+conf.errorMessageClass).remove()})},_setInlineErrorMessage=function($input,mess,conf){var custom=_getInlineErrorElement($input);if(custom)custom.innerHTML=mess;else{var $mess=$input.parent().find("."+conf.errorMessageClass+".help-block");0==$mess.length&&($mess=$("<span></span>").addClass("help-block").addClass(conf.errorMessageClass),$mess.appendTo($input.parent())),$mess.html(mess)}},_getInlineErrorElement=function($input){return document.getElementById($input.attr("name")+"_err_msg")};$.fn.validateOnBlur=function(language,settings){return this.find("input[data-validation],textarea[data-validation],select[data-validation]").bind("blur.validation",function(){$(this).validateInputOnBlur(language,settings)}),this},$.fn.validateOnEvent=function(language,settings){return this.find("input[data-validation][data-validation-event],textarea[data-validation][data-validation-event]").each(function(){var $el=$(this),etype=$el.attr("data-validation-event");etype&&$el.bind(etype+".validation",function(){$(this).validateInputOnBlur(language,settings,!1,etype)})}),this},$.fn.showHelpOnFocus=function(attrName){return attrName||(attrName="data-validation-help"),this.find(".has-help-txt").valAttr("has-keyup-event",!1).valAttr("backend-valid",!1).valAttr("backend-invalid",!1).removeClass("has-help-txt"),this.find("textarea,input").each(function(){var $elem=$(this),className="jquery_form_help_"+($elem.attr("name")||"").replace(/(:|\.|\[|\])/g,""),help=$elem.attr(attrName);help&&$elem.addClass("has-help-txt").unbind("focus.help").bind("focus.help",function(){var $help=$elem.parent().find("."+className);0==$help.length&&($help=$("<span />").addClass(className).addClass("help").addClass("help-block").text(help).hide(),$elem.after($help)),$help.fadeIn()}).unbind("blur.help").bind("blur.help",function(){$(this).parent().find("."+className).fadeOut("slow")})}),this},$.fn.validateInputOnBlur=function(language,conf,attachKeyupEvent,eventContext){void 0===attachKeyupEvent&&(attachKeyupEvent=!0),eventContext||(eventContext="blur"),language=$.extend({},$.formUtils.LANG,language||{}),_removeErrorStyle(this,conf);var $elem=this,$form=$elem.closest("form"),validation=($elem.attr(conf.validationRuleAttribute),$.formUtils.validateInput($elem,language,$.extend({},conf,{errorMessagePosition:"element"}),$form,eventContext));return $elem.trigger("validation",[validation===!0]),validation===!0?$elem.addClass("valid").parent().addClass("has-success"):null!==validation&&(_applyErrorStyle($elem,conf),_setInlineErrorMessage($elem,validation,conf),attachKeyupEvent&&$elem.bind("keyup",function(){$(this).validateInputOnBlur(language,conf,!1,"keyup")})),this},$.fn.valAttr=function(name,val){return void 0===val?this.attr("data-validation-"+name):val===!1||null===val?this.removeAttr("data-validation-"+name):(name.length>0&&(name="-"+name),this.attr("data-validation"+name,val))},$.fn.validateForm=function(language,conf){language=$.extend({},$.formUtils.LANG,language||{}),$.formUtils.isValidatingEntireForm=!0,$.formUtils.haltValidation=!1;var addErrorMessage=function(mess,$elem){null!==mess&&(0>$.inArray(mess,errorMessages)&&errorMessages.push(mess),errorInputs.push($elem),$elem.attr("current-error",mess),_applyErrorStyle($elem,conf))},errorMessages=[],errorInputs=[],$form=this,ignoreInput=function(name,type){return"submit"===type||"button"===type||"reset"==type?!0:$.inArray(name,conf.ignore||[])>-1};if($form.find("."+conf.errorMessageClass+".alert").remove(),_removeErrorStyle($form.find("."+conf.errorElementClass+",.valid"),conf),$form.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var $elem=$(this),elementType=$elem.attr("type");if(!ignoreInput($elem.attr("name"),elementType)){var validation=$.formUtils.validateInput($elem,language,conf,$form,"submit");$elem.trigger("validation",[validation===!0]),validation!==!0?addErrorMessage(validation,$elem):$elem.valAttr("current-error",!1).addClass("valid").parent().addClass("has-success")}}),"function"==typeof conf.onValidate){var resp=conf.onValidate($form);resp&&resp.element&&resp.message&&addErrorMessage(resp.message,resp.element)}if(!$.formUtils.haltValidation&&errorInputs.length>0){if($.formUtils.isValidatingEntireForm=!1,"top"===conf.errorMessagePosition){var messages="<strong>"+language.errorTitle+"</strong>";$.each(errorMessages,function(i,mess){messages+="<br />* "+mess}),$form.children().eq(0).before('<div class="'+conf.errorMessageClass+' alert alert-danger">'+messages+"</div>"),conf.scrollToTopOnError&&$(window).scrollTop($form.offset().top-20)}else $.each(errorInputs,function(i,$input){_setInlineErrorMessage($input,$input.attr("current-error"),conf)});return!1}return $.formUtils.isValidatingEntireForm=!1,!$.formUtils.haltValidation},$.fn.restrictLength=function(maxLengthElement){return new $.formUtils.lengthRestriction(this,maxLengthElement),this},$.fn.addSuggestions=function(settings){var sugs=!1;return this.find("input").each(function(){var $field=$(this);sugs=$.split($field.attr("data-suggestions")),sugs.length>0&&!$field.hasClass("has-suggestions")&&($.formUtils.suggest($field,sugs,settings),$field.addClass("has-suggestions"))}),this},$.split=function(val,func,delim){if("function"!=typeof func){if(!val)return[];var values=[];return $.each(val.split(func?func:","),function(i,str){str=$.trim(str),str.length&&values.push(str)}),values}val&&(delim||(delim=","),$.each(val.split(delim),function(i,str){return str=$.trim(str),str.length?func(str,i):void 0}))},$.validate=function(conf){var defaultConf=$.extend($.formUtils.defaultConfig(),{form:"form",validateOnEvent:!0,validateOnBlur:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1});conf=$.extend(defaultConf,conf||{}),$.split(conf.form,function(formQuery){var $form=$(formQuery);$form.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),$form.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),$form.bind("submit.validation",function(){var $form=$(this);if($.formUtils.isLoadingModules)return setTimeout(function(){$form.trigger("submit.validation")},200),!1;var valid=$form.validateForm(conf.language,conf);if(!valid||"function"!=typeof conf.onSuccess)return valid||"function"!=typeof conf.onError?valid:(conf.onError($form),!1);var callbackResponse=conf.onSuccess($form);return callbackResponse===!1?!1:void 0}).bind("reset.validation",function(){$(this).find("."+conf.errorMessageClass+".alert").remove(),_removeErrorStyle($(this).find("."+conf.errorElementClass+",.valid"),conf)}).addClass("has-validation-callback"),conf.showHelpOnFocus&&$form.showHelpOnFocus(),conf.addSuggestions&&$form.addSuggestions(),conf.validateOnBlur&&$form.validateOnBlur(conf.language,conf),conf.validateOnEvent&&$form.validateOnEvent(conf.language,conf)}),""!=conf.modules&&("function"==typeof conf.onModulesLoaded&&$.formUtils.on("load",function(){conf.onModulesLoaded()}),$.formUtils.loadModules(conf.modules))},$.validationSetup=function(conf){"undefined"!=typeof console&&console.warn&&console.warn("Using deprecated function $.validationSetup, pls use $.validate instead"),$.validate(conf)},$.formUtils={defaultConfig:function(){return{ignore:[],errorElementClass:"error",borderColorOnError:"red",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"element",scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:"."}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,isValidatingEntireForm:!1,addValidator:function(validator){var name=0===validator.name.indexOf("validate_")?validator.name:"validate_"+validator.name;void 0===validator.validateOnKeyUp&&(validator.validateOnKeyUp=!0),this.validators[name]=validator},on:function(evt,callback){void 0===this._events[evt]&&(this._events[evt]=[]),this._events[evt].push(callback)},trigger:function(evt,argA,argB){$.each(this._events[evt]||[],function(i,func){func(argA,argB)})},isLoadingModules:!1,loadedModules:{},loadModules:function(modules,path,fireEvent){if(void 0===fireEvent&&(fireEvent=!0),$.formUtils.isLoadingModules)return setTimeout(function(){$.formUtils.loadModules(modules,path,fireEvent)}),void 0;var hasLoadedAnyModule=!1,loadModuleScripts=function(modules,path){var moduleList=$.split(modules),numModules=moduleList.length,moduleLoadedCallback=function(){numModules--,0==numModules&&($.formUtils.isLoadingModules=!1,fireEvent&&hasLoadedAnyModule&&$.formUtils.trigger("load",path))};numModules>0&&($.formUtils.isLoadingModules=!0);var cacheSuffix="?__="+(new Date).getTime(),appendToElement=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];$.each(moduleList,function(i,modName){if(modName=$.trim(modName),0==modName.length)moduleLoadedCallback();else{var scriptUrl=path+modName+(".js"==modName.substr(-3)?"":".js"),script=document.createElement("SCRIPT");scriptUrl in $.formUtils.loadedModules?moduleLoadedCallback():($.formUtils.loadedModules[scriptUrl]=1,hasLoadedAnyModule=!0,script.type="text/javascript",script.onload=moduleLoadedCallback,script.src=scriptUrl+(".dev.js"==scriptUrl.substr(-7)?cacheSuffix:""),script.onreadystatechange=function(){"complete"==this.readyState&&moduleLoadedCallback()},appendToElement.appendChild(script))}})};if(path)loadModuleScripts(modules,path);else{var findScriptPathAndLoadModules=function(){var foundPath=!1;return $("script").each(function(){if(this.src){var scriptName=this.src.substr(this.src.lastIndexOf("/")+1,this.src.length);if(scriptName.indexOf("jquery.form-validator.js")>-1||scriptName.indexOf("jquery.form-validator.min.js")>-1)return foundPath=this.src.substr(0,this.src.lastIndexOf("/"))+"/","/"==foundPath&&(foundPath=""),!1}}),foundPath!==!1?(loadModuleScripts(modules,foundPath),!0):!1};findScriptPathAndLoadModules()||$(findScriptPathAndLoadModules)}},validateInput:function($elem,language,conf,$form,eventContext){$elem.trigger("beforeValidation");var value=$.trim($elem.val()||""),optional=$elem.valAttr("optional"),validationDependsOnCheckedInput=!1,validationDependentInputIsChecked=!1,validateIfCheckedElement=!1,validateIfCheckedElementName=$elem.valAttr("if-checked");if(null!=validateIfCheckedElementName&&(validationDependsOnCheckedInput=!0,validateIfCheckedElement=$form.find('input[name="'+validateIfCheckedElementName+'"]'),validateIfCheckedElement.prop("checked")&&(validationDependentInputIsChecked=!0)),!value&&"true"===optional||validationDependsOnCheckedInput&&!validationDependentInputIsChecked)return conf.addValidClassOnAll?!0:null;var validationRules=$elem.attr(conf.validationRuleAttribute),validationErrorMsg=!0;return validationRules?($.split(validationRules,function(rule){0!==rule.indexOf("validate_")&&(rule="validate_"+rule);var validator=$.formUtils.validators[rule];if(validator&&"function"==typeof validator.validatorFunction){"validate_checkbox_group"==rule&&($elem=$("[name='"+$elem.attr("name")+"']:eq(0)"));var isValid=!0;if(("keyup"!=eventContext||validator.validateOnKeyUp)&&(isValid=validator.validatorFunction(value,$elem,conf,language,$form)),!isValid)return validationErrorMsg=$elem.attr(conf.validationErrorMsgAttribute),validationErrorMsg||(validationErrorMsg=language[validator.errorMessageKey],validationErrorMsg||(validationErrorMsg=validator.errorMessage)),!1}else console.warn('Using undefined validator "'+rule+'"')}," "),"string"==typeof validationErrorMsg?validationErrorMsg:!0):conf.addValidClassOnAll?!0:null},parseDate:function(val,dateFormat){var matches,day,month,year,divider=dateFormat.replace(/[a-zA-Z]/gi,"").substring(0,1),regexp="^",formatParts=dateFormat.split(divider);if($.each(formatParts,function(i,part){regexp+=(i>0?"\\"+divider:"")+"(\\d{"+part.length+"})"}),regexp+="$",matches=val.match(RegExp(regexp)),null===matches)return!1;var findDateUnit=function(unit,formatParts,matches){for(var i=0;formatParts.length>i;i++)if(formatParts[i].substring(0,1)===unit)return $.formUtils.parseDateInt(matches[i+1]);return-1};return month=findDateUnit("m",formatParts,matches),day=findDateUnit("d",formatParts,matches),year=findDateUnit("y",formatParts,matches),2===month&&day>28&&(0!==year%4||0===year%100&&0!==year%400)||2===month&&day>29&&(0===year%4||0!==year%100&&0===year%400)||month>12||0===month?!1:this.isShortMonth(month)&&day>30||!this.isShortMonth(month)&&day>31||0===day?!1:[year,month,day]},parseDateInt:function(val){return 0===val.indexOf("0")&&(val=val.replace("0","")),parseInt(val,10)},isShortMonth:function(m){return 0===m%2&&7>m||0!==m%2&&m>7},lengthRestriction:function($inputElement,$maxLengthElement){var maxChars=parseInt($maxLengthElement.text(),10),charsLeft=0,countCharacters=function(){var numChars=$inputElement.val().length;if(numChars>maxChars){var currScrollTopPos=$inputElement.scrollTop();$inputElement.val($inputElement.val().substring(0,maxChars)),$inputElement.scrollTop(currScrollTopPos)}charsLeft=maxChars-numChars,0>charsLeft&&(charsLeft=0),$maxLengthElement.text(charsLeft)};$($inputElement).bind("keydown keyup keypress focus blur",countCharacters).bind("cut paste",function(){setTimeout(countCharacters,100)}),$(document).bind("ready",countCharacters)},numericRangeCheck:function(value,rangeAllowed){var range=$.split(rangeAllowed,"-"),minmax=parseInt(rangeAllowed.substr(3),10);return 2==range.length&&(parseInt(range[0],10)>value||value>parseInt(range[1],10))?["out",range[0],range[1]]:0===rangeAllowed.indexOf("min")&&minmax>value?["min",minmax]:0===rangeAllowed.indexOf("max")&&value>minmax?["max",minmax]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function($elem,suggestions,settings){var conf={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},setSuggsetionPosition=function($suggestionContainer,$input){var offset=$input.offset();$suggestionContainer.css({width:$input.outerWidth(),left:offset.left+"px",top:offset.top+$input.outerHeight()+"px"})};settings&&$.extend(conf,settings),conf.css.position="absolute",conf.css["z-index"]=9999,$elem.attr("autocomplete","off"),0===this._numSuggestionElements&&$(window).bind("resize",function(){$(".jquery-form-suggestions").each(function(){var $container=$(this),suggestID=$container.attr("data-suggest-container");setSuggsetionPosition($container,$(".suggestions-"+suggestID).eq(0))})}),this._numSuggestionElements++;var onSelectSuggestion=function($el){var suggestionId=$el.valAttr("suggestion-nr");$.formUtils._selectedSuggestion=null,$.formUtils._previousTypedVal=null,$(".jquery-form-suggestion-"+suggestionId).fadeOut("fast")};return $elem.data("suggestions",suggestions).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){$(this).trigger("keyup"),$.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var $input=$(this),foundSuggestions=[],val=$.trim($input.val()).toLocaleLowerCase();if(val!=$.formUtils._previousTypedVal){$.formUtils._previousTypedVal=val;var hasTypedSuggestion=!1,suggestionId=$input.valAttr("suggestion-nr"),$suggestionContainer=$(".jquery-form-suggestion-"+suggestionId);if($suggestionContainer.scrollTop(0),""!=val){var findPartial=val.length>2;$.each($input.data("suggestions"),function(i,suggestion){var lowerCaseVal=suggestion.toLocaleLowerCase();return lowerCaseVal==val?(foundSuggestions.push("<strong>"+suggestion+"</strong>"),hasTypedSuggestion=!0,!1):((0===lowerCaseVal.indexOf(val)||findPartial&&lowerCaseVal.indexOf(val)>-1)&&foundSuggestions.push(suggestion.replace(RegExp(val,"gi"),"<strong>$&</strong>")),void 0)})}hasTypedSuggestion||0==foundSuggestions.length&&$suggestionContainer.length>0?$suggestionContainer.hide():foundSuggestions.length>0&&0==$suggestionContainer.length?($suggestionContainer=$("<div></div>").css(conf.css).appendTo("body"),$elem.addClass("suggestions-"+suggestionId),$suggestionContainer.attr("data-suggest-container",suggestionId).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+suggestionId)):foundSuggestions.length>0&&!$suggestionContainer.is(":visible")&&$suggestionContainer.show(),foundSuggestions.length>0&&val.length!=foundSuggestions[0].length&&(setSuggsetionPosition($suggestionContainer,$input),$suggestionContainer.html(""),$.each(foundSuggestions,function(i,text){$("<div></div>").append(text).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo($suggestionContainer).click(function(){$input.focus(),$input.val($(this).text()),onSelectSuggestion($input)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(e){var suggestionId,$suggestionContainer,code=e.keyCode?e.keyCode:e.which,$input=$(this);if(13==code&&null!==$.formUtils._selectedSuggestion){if(suggestionId=$input.valAttr("suggestion-nr"),$suggestionContainer=$(".jquery-form-suggestion-"+suggestionId),$suggestionContainer.length>0){var newText=$suggestionContainer.find("div").eq($.formUtils._selectedSuggestion).text();$input.val(newText),onSelectSuggestion($input),e.preventDefault()}}else{suggestionId=$input.valAttr("suggestion-nr"),$suggestionContainer=$(".jquery-form-suggestion-"+suggestionId);var $suggestions=$suggestionContainer.children();if($suggestions.length>0&&$.inArray(code,[38,40])>-1){38==code?(null===$.formUtils._selectedSuggestion?$.formUtils._selectedSuggestion=$suggestions.length-1:$.formUtils._selectedSuggestion--,0>$.formUtils._selectedSuggestion&&($.formUtils._selectedSuggestion=$suggestions.length-1)):40==code&&(null===$.formUtils._selectedSuggestion?$.formUtils._selectedSuggestion=0:$.formUtils._selectedSuggestion++,$.formUtils._selectedSuggestion>$suggestions.length-1&&($.formUtils._selectedSuggestion=0));var containerInnerHeight=$suggestionContainer.innerHeight(),containerScrollTop=$suggestionContainer.scrollTop(),suggestionHeight=$suggestionContainer.children().eq(0).outerHeight(),activeSuggestionPosY=suggestionHeight*$.formUtils._selectedSuggestion;return(containerScrollTop>activeSuggestionPosY||activeSuggestionPosY>containerScrollTop+containerInnerHeight)&&$suggestionContainer.scrollTop(activeSuggestionPosY),$suggestions.removeClass("active-suggestion").css("background","none").eq($.formUtils._selectedSuggestion).addClass("active-suggestion").css(conf.activeSuggestionCSS),e.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){onSelectSuggestion($(this))}),$elem},LANG:{errorTitle:"Form submission failed!",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"You must give an answer between ",lengthBadEnd:" characters",lengthTooLongStart:"You have given an answer longer than ",lengthTooShortStart:"You have given an answer shorter than ",notConfirmed:"Values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The answer you gave was not a correct URL",badCustomVal:"You gave an incorrect answer",badInt:"The answer you gave was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The answer you gave must contain only alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large",wrongFileType:"The file you are trying to upload is of wrong type",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)"}},$.formUtils.addValidator({name:"email",validatorFunction:function(email){var emailParts=email.toLowerCase().split("@");return 2==emailParts.length?$.formUtils.validators.validate_domain.validatorFunction(emailParts[1])&&!/[^\w\+\.\-]/.test(emailParts[0]):!1},errorMessage:"",errorMessageKey:"badEmail"}),$.formUtils.addValidator({name:"domain",validatorFunction:function(val,$input){for(var topDomains=[".ac",".ad",".ae",".aero",".af",".ag",".ai",".al",".am",".an",".ao",".aq",".ar",".arpa",".as",".asia",".at",".au",".aw",".ax",".az",".ba",".bb",".bd",".be",".bf",".bg",".bh",".bi",".bike",".biz",".bj",".bm",".bn",".bo",".br",".bs",".bt",".bv",".bw",".by",".bz",".ca",".camera",".cat",".cc",".cd",".cf",".cg",".ch",".ci",".ck",".cl",".clothing",".cm",".cn",".co",".com",".construction",".contractors",".coop",".cr",".cu",".cv",".cw",".cx",".cy",".cz",".de",".diamonds",".directory",".dj",".dk",".dm",".do",".dz",".ec",".edu",".ee",".eg",".enterprises",".equipment",".er",".es",".estate",".et",".eu",".fi",".fj",".fk",".fm",".fo",".fr",".ga",".gallery",".gb",".gd",".ge",".gf",".gg",".gh",".gi",".gl",".gm",".gn",".gov",".gp",".gq",".gr",".graphics",".gs",".gt",".gu",".guru",".gw",".gy",".hk",".hm",".hn",".holdings",".hr",".ht",".hu",".id",".ie",".il",".im",".in",".info",".int",".io",".iq",".ir",".is",".it",".je",".jm",".jo",".jobs",".jp",".ke",".kg",".kh",".ki",".kitchen",".km",".kn",".kp",".kr",".kw",".ky",".kz",".la",".land",".lb",".lc",".li",".lighting",".lk",".lr",".ls",".lt",".lu",".lv",".ly",".ma",".mc",".md",".me",".menu",".mg",".mh",".mil",".mk",".ml",".mm",".mn",".mo",".mobi",".mp",".mq",".mr",".ms",".mt",".mu",".museum",".mv",".mw",".mx",".my",".mz",".na",".name",".nc",".ne",".net",".nf",".ng",".ni",".nl",".no",".np",".nr",".nu",".nz",".om",".org",".pa",".pe",".pf",".pg",".ph",".photography",".pk",".pl",".plumbing",".pm",".pn",".post",".pr",".pro",".ps",".pt",".pw",".py",".qa",".re",".ro",".rs",".ru",".rw",".sa",".sb",".sc",".sd",".se",".sexy",".sg",".sh",".si",".singles",".sj",".sk",".sl",".sm",".sn",".so",".sr",".st",".su",".sv",".sx",".sy",".sz",".tattoo",".tc",".td",".technology",".tel",".tf",".tg",".th",".tips",".tj",".tk",".tl",".tm",".tn",".to",".today",".tp",".tr",".travel",".tt",".tv",".tw",".tz",".ua",".ug",".uk",".uno",".us",".uy",".uz",".va",".vc",".ve",".ventures",".vg",".vi",".vn",".voyage",".vu",".wf",".ws",".xn--3e0b707e",".xn--45brj9c",".xn--80ao21a",".xn--80asehdb",".xn--80aswg",".xn--90a3ac",".xn--clchc0ea0b2g2a9gcd",".xn--fiqs8s",".xn--fiqz9s",".xn--fpcrj9c3d",".xn--fzc2c9e2c",".xn--gecrj9c",".xn--h2brj9c",".xn--j1amh",".xn--j6w193g",".xn--kprw13d",".xn--kpry57d",".xn--l1acc",".xn--lgbbat1ad8j",".xn--mgb9awbf",".xn--mgba3a4f16a",".xn--mgbaam7a8h",".xn--mgbayh7gpa",".xn--mgbbh1a71e",".xn--mgbc0a9azcg",".xn--mgberp4a5d4ar",".xn--mgbx4cd0ab",".xn--ngbc5azd",".xn--o3cw4h",".xn--ogbpf8fl",".xn--p1ai",".xn--pgbs0dh",".xn--q9jyb4c",".xn--s9brj9c",".xn--unup4y",".xn--wgbh1c",".xn--wgbl6a",".xn--xkc2al3hye2a",".xn--xkc2dl3a5ee0h",".xn--yfro4i67o",".xn--ygbi2ammx",".xxx",".ye",".yt",".za",".zm",".zw"],ukTopDomains=["co","me","ac","gov","judiciary","ltd","mod","net","nhs","nic","org","parliament","plc","police","sch","bl","british-library","jet","nls"],dot=val.lastIndexOf("."),domain=val.substring(0,dot),ext=val.substring(dot,val.length),hasTopDomain=!1,i=0;topDomains.length>i;i++)if(topDomains[i]===ext){if(".uk"!==ext){hasTopDomain=!0;break}for(var domainParts=val.split("."),tld2=domainParts[domainParts.length-2],j=0;ukTopDomains.length>j;j++)if(ukTopDomains[j]===tld2){hasTopDomain=!0;break}if(hasTopDomain)break}if(!hasTopDomain)return!1;if(2>dot||dot>57)return!1;var firstChar=domain.substring(0,1),lastChar=domain.substring(domain.length-1,domain.length);return"-"===firstChar||"."===firstChar||"-"===lastChar||"."===lastChar?!1:domain.split(".").length>3||domain.split("..").length>1?!1:""!==domain.replace(/[-\da-z\.]/g,"")?!1:($input!==void 0&&$input.val(val),!0)},errorMessage:"",errorMessageKey:"badDomain"}),$.formUtils.addValidator({name:"required",validatorFunction:function(val,$el){return"checkbox"==$el.attr("type")?$el.is(":checked"):""!==$.trim(val)},errorMessage:"",errorMessageKey:"requiredFields"}),$.formUtils.addValidator({name:"length",validatorFunction:function(val,$el,conf,lang){var lengthAllowed=$el.valAttr("length"),type=$el.attr("type");if(void 0==lengthAllowed){var elementType=$el.get(0).nodeName;return alert('Please add attribute "data-validation-length" to '+elementType+" named "+$el.attr("name")),!0}var checkResult,len="file"==type&&void 0!==$el.get(0).files?$el.get(0).files.length:val.length,lengthCheckResults=$.formUtils.numericRangeCheck(len,lengthAllowed);switch(lengthCheckResults[0]){case"out":this.errorMessage=lang.lengthBadStart+lengthAllowed+lang.lengthBadEnd,checkResult=!1;break;case"min":this.errorMessage=lang.lengthTooShortStart+lengthCheckResults[1]+lang.lengthBadEnd,checkResult=!1;break;case"max":this.errorMessage=lang.lengthTooLongStart+lengthCheckResults[1]+lang.lengthBadEnd,checkResult=!1;break;default:checkResult=!0}return checkResult},errorMessage:"",errorMessageKey:""}),$.formUtils.addValidator({name:"url",validatorFunction:function(url){var urlFilter=/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;if(urlFilter.test(url)){var domain=url.split("://")[1],domainSlashPos=domain.indexOf("/");return domainSlashPos>-1&&(domain=domain.substr(0,domainSlashPos)),$.formUtils.validators.validate_domain.validatorFunction(domain)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),$.formUtils.addValidator({name:"number",validatorFunction:function(val,$el,conf){if(""!==val){var begin,end,allowing=$el.valAttr("allowing")||"",decimalSeparator=$el.valAttr("decimal-separator")||conf.decimalSeparator,allowsRange=!1;if(-1==allowing.indexOf("number")&&(allowing+=",number"),allowing.indexOf("negative")>-1&&0===val.indexOf("-")&&(val=val.substr(1)),allowing.indexOf("range")>-1&&(begin=parseFloat(allowing.substring(allowing.indexOf("[")+1,allowing.indexOf(";"))),end=parseFloat(allowing.substring(allowing.indexOf(";")+1,allowing.indexOf("]"))),allowsRange=!0),allowing.indexOf("number")>-1&&""===val.replace(/[0-9]/g,"")&&(!allowsRange||val>=begin&&end>=val))return!0;if(allowing.indexOf("float")>-1&&null!==val.match(RegExp("^([0-9]+)\\"+decimalSeparator+"([0-9]+)$"))&&(!allowsRange||val>=begin&&end>=val))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),$.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(val,$el,conf,language){var patternStart="^([a-zA-Z0-9",patternEnd="]+)$",additionalChars=$el.attr("data-validation-allowing"),pattern="";if(additionalChars){pattern=patternStart+additionalChars+patternEnd;var extra=additionalChars.replace(/\\/g,"");extra.indexOf(" ")>-1&&(extra=extra.replace(" ",""),extra+=" and spaces "),this.errorMessage=language.badAlphaNumeric+language.badAlphaNumericExtra+extra}else pattern=patternStart+patternEnd,this.errorMessage=language.badAlphaNumeric;return RegExp(pattern).test(val)},errorMessage:"",errorMessageKey:""}),$.formUtils.addValidator({name:"custom",validatorFunction:function(val,$el){var regexp=RegExp($el.valAttr("regexp"));return regexp.test(val)},errorMessage:"",errorMessageKey:"badCustomVal"}),$.formUtils.addValidator({name:"date",validatorFunction:function(date,$el,conf){var dateFormat="yyyy-mm-dd";return $el.valAttr("format")?dateFormat=$el.valAttr("format"):conf.dateFormat&&(dateFormat=conf.dateFormat),$.formUtils.parseDate(date,dateFormat)!==!1},errorMessage:"",errorMessageKey:"badDate"}),$.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(val,$el,conf,lang,$form){var checkResult=!0,elname=$el.attr("name"),checkedCount=$("input[type=checkbox][name^='"+elname+"']:checked",$form).length,qtyAllowed=$el.valAttr("qty");if(void 0==qtyAllowed){var elementType=$el.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+elementType+" named "+$el.attr("name"))}var qtyCheckResults=$.formUtils.numericRangeCheck(checkedCount,qtyAllowed);switch(qtyCheckResults[0]){case"out":this.errorMessage=lang.groupCheckedRangeStart+qtyAllowed+lang.groupCheckedEnd,checkResult=!1;break;case"min":this.errorMessage=lang.groupCheckedTooFewStart+qtyCheckResults[1]+lang.groupCheckedEnd,checkResult=!1;break;case"max":this.errorMessage=lang.groupCheckedTooManyStart+qtyCheckResults[1]+lang.groupCheckedEnd,checkResult=!1;break;default:checkResult=!0}return checkResult}})})(jQuery);